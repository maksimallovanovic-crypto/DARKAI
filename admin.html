<!DOCTYPE html>,
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: white;
      padding: 30px;
    }
    .login, .panel {
      max-width: 600px;
      margin: 20px auto;
      text-align: center;
    }
    input, button, select {
      padding: 12px; margin: 5px; font-size: 1rem;
    }
    input, select {
      background: #2a2a2a;
      color: white;
      border: 1px solid #333;
      border-radius: 6px;
    }
    button {
      background: #10a37f;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 6px;
    }
    button:hover { background: #0d8c6a; }
    .user-row {
      display: flex; gap: 10px; margin: 20px 0; align-items: center; justify-content: center;
    }
    .status-list div {
      background: #2a2a2a;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
    }
  </style>
</head>
<body>
  <div id="login" class="login">
    <h2>üîê –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
    <input type="password" id="adminPass" placeholder="–ü–∞—Ä–æ–ª—å: 021099" />
    <button onclick="login()">–í–æ–π—Ç–∏</button>
  </div>

  <div id="panel" class="panel" style="display: none;">
    <h2>üéØ –í—ã–¥–∞—Ç—å —Å—Ç–∞—Ç—É—Å</h2>
    <div class="user-row">
      <input type="text" id="targetUser" placeholder="–ù–∏–∫" />
      <select id="statusSelect">
        <option>–ì–æ—Å—Ç—å</option>
        <option>–ê–¥–º–∏–Ω</option>
        <option>Afun</option>
        <option>VIP</option>
        <option>–≠–∫—Å–∫–ª—é–∑–∏–≤</option>
      </select>
      <button onclick="setStatus()">–í—ã–¥–∞—Ç—å</button>
    </div>

    <h3>üïí –û–∂–∏–¥–∞—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</h3>
    <div id="pendingList" class="status-list"></div>
  </div>

  <script>
    function login() {
      if (document.getElementById('adminPass').value === '021099') {
        document.getElementById('login').style.display = 'none';
        document.getElementById('panel').style.display = 'block';
        loadPending();
      } else alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
    }

    function setStatus() {
      const nick = document.getElementById('targetUser').value.trim();
      const status = document.getElementById('statusSelect').value;
      if (!nick) return alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫!');
      const statuses = JSON.parse(localStorage.getItem('user-statuses')) || {};
      statuses[nick] = status;
      localStorage.setItem('user-statuses', JSON.stringify(statuses));
      alert(`‚úÖ –°—Ç–∞—Ç—É—Å "${status}" –≤—ã–¥–∞–Ω`);
      document.getElementById('targetUser').value = '';
    }

    function loadPending() {
      const list = JSON.parse(localStorage.getItem('pending-donations')) || [];
      const div = document.getElementById('pendingList');
      div.innerHTML = '';
      list.forEach((item, i) => {
        const el = document.createElement('div');
        el.innerHTML = `
          ${item.nick} ‚Äî ${item.type}
          <div>
            <button onclick="confirm(${i})">‚úÖ</button>
            <button onclick="reject(${i})">‚ùå</button>
          </div>
        `;
        div.appendChild(el);
      });
    }

    function confirm(i) {
      const pending = JSON.parse(localStorage.getItem('pending-donations')) || [];
      const item = pending[i];
      const statuses = JSON.parse(localStorage.getItem('user-statuses')) || {};
      statuses[item.nick] = item.type === 'afun' ? 'Afun' : 
                            item.type === 'vip' ? 'VIP' : '–≠–∫—Å–∫–ª—é–∑–∏–≤';
      localStorage.setItem('user-statuses', JSON.stringify(statuses));
      pending.splice(i, 1);
      localStorage.setItem('pending-donations', JSON.stringify(pending));
      alert(`–î–æ–Ω–∞—Ç –¥–ª—è ${item.nick} –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω!`);
      loadPending();
    }

    function reject(i) {
      const pending = JSON.parse(localStorage.getItem('pending-donations')) || [];
      pending.splice(i, 1);
      localStorage.setItem('pending-donations', JSON.stringify(pending));
      loadPending();
    }
  </script>
</body>
</html>
